{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="/static/css/components_style.css">

<div class="container">
    <div class="filters">
        <h3>Фильтры</h3>
        <!-- Динамические фильтры в зависимости от категории -->
        {% if component_type == "processors" %}
            <h4>Сокет</h4>
            <select name="socket">
                <option value="">Любой</option>
                {% for socket in sockets %}
                <option value={{ socket }}>{{ socket.name }}</option>
                {% endfor %}
            </select>
            <h4>Сортировка по мощности</h4>
            <select name="power_sort">
                <option value="asc">По возрастанию</option>
                <option value="desc">По убыванию</option>
            </select>
        {% elif component_type == "videocards" %}
            <h4>Сортировка по мощности</h4>
            <select name="power_sort">
                <option value="asc">По возрастанию</option>
                <option value="desc">По убыванию</option>
            </select>
        {% elif component_type == "motherboards" %}
            <h4>Сокет</h4>
            <select name="socket">
                <option value="">Любой</option>
                {% for socket in sockets %}
                <option value={{ socket }}>{{ socket.name }}</option>
                {% endfor %}
            </select>
            <h4>Тип памяти</h4>
            <select name="memory_type">
                <option value="">Любой</option>
                {% for memory_type in memory_types %}
                <option value={{ memory_type }}>{{ memory_type.name }}</option>
                {% endfor %}
            </select>
            <h4>Поддержка m2</h4>
            <select name="m2_support">
                <option value="">Любой</option>
                <option value="yes">Есть</option>
                <option value="no">нет</option>
            </select>
        {% elif component_type == "ram_modules" %}
            <h4>Тип памяти</h4>
            <select name="memory_type">
                <option value="">Любой</option>
                {% for memory_type in memory_types %}
                <option value={{ memory_type }}>{{ memory_type.name }}</option>
                {% endfor %}
            </select>
        {% elif component_type == "cooling_systems" %}
            <h4>Сокет</h4>
            <select name="socket">
                <option value="">Любой</option>
                {% for socket in sockets %}
                <option value={{ socket }}>{{ socket.name }}</option>
                {% endfor %}
            </select>
        {% elif component_type == "storage_devices" %}
            <h4>Тип</h4>
            <select name="storage_type">
                <option value="">Любой</option>
                <option value="SSD">SSD</option>
                <option value="HDD">HDD</option>
                <option value="NVMe">NVMe</option>
            </select>
        {% elif component_type == "power_supplies" %}
            <h4>Сортировка по мощности</h4>
            <select name="power_sort">
                <option value="asc">По возрастанию</option>
                <option value="desc">По убыванию</option>
            </select>
        {% endif %}

        <h4>Цена</h4>
        <div class="price-range">
            <div class="price-input">
                <input type="number" name="price_from"  placeholder="От">
            </div>
            <div class="price-input">
                <input type="number" name="price_to" placeholder="До">
            </div>
        </div>
    </div>
    <div class="right-section">
        <div class="search-bar">
            <input type="text" placeholder="Поиск комплектующих...">
            <button>Поиск</button>
        </div>
        <div class="components">
            {% for component in components %}
                <div class="component-item">
                    <div class="component-image">
                        <img src="{{ component[1] }}" alt="Нету изображения">
                    </div>
                    <div class="component-info">
                        <h3>{{ component[0] }}</h3>
                        {% for el in component[2:] %}
                            <p>{{ el }}</p>
                        {% endfor %}
                    </div>
                    <a href="/{{ component_type }}:{{ component[0] }}" class="component-button">Выбрать</a>
                </div>
            {% endfor %}
        </div>
    </div>
</div>=
{% endblock %}